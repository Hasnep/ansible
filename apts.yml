- hosts: localhost
  become: true
  tasks:
    - name: Install aptitude
      apt:
        name: aptitude

    - name: Add PPAs
      apt_repository:
        repo: "{{ item }}"
      loop:
        - ppa:git-core/ppa
        - ppa:papirus/papirus
        - ppa:tista/plata-theme
        - ppa:christian-boxdoerfer/fsearch-daily
        - deb http://archive.ubuntu.com/ubuntu {{ ansible_distribution_release }} universe
        - deb http://archive.ubuntu.com/ubuntu {{ ansible_distribution_release }} multiverse
        - deb http://archive.ubuntu.com/ubuntu {{ ansible_distribution_release }} restricted

    - name: Install basic packages
      apt:
        name:
          - openjdk-8-jdk
          - software-properties-common

    - name: Install commandline packages
      apt:
        name:
          - aptitude
          - bat
          - curl
          - fd-find
          - ffmpeg
          - fzf
          - git # Requires PPA
          - htop
          - jq
          - kakoune
          - micro
          - neofetch
          - pandoc
          - rclone
          - restic
          - scrcpy
          - youtube-dl

    - name: Install GUI packages
      apt:
        name:
          - barrier
          - epiphany-browser 
          - evince
          - firefox
          - fonts-cmu
          - fsearch-trunk # Requires PPA
          - ibus-rime
          - papirus-icon-theme # Requires PPA
          - plata-theme # Requires PPA
          - qdirstat
          - tldr
          - tuptime
          - usb-creator-gtk

    - name: Remove unused packages
      apt:
        name:
          - byobu
          - deja-dup
          - magnus
          - nautilus
        state: absent
